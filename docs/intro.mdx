---
sidebar_position: 1
---

# Yak 项目简介

## 为什么要学习 Yak Language？

Yak 希望成为用户的第一门，也是最后一门安全测试专用语言。你可以用它来快速编写扫描器，进行安全扫描，集成调用任何第三方工具与接口。

> **大道至简**: 友善，简单的语法
>
> **站在巨人肩膀**: 封装集成优秀的安全工具，让安全工具成为语言的一部分
>
> **厚积薄发，长久积累**: 从一套企业级安全系统中发展独立而来
>
> **企业级解决方案**：具备久经沙场的分布式执行解决方案，大规模扫描变的可能

## 速览：像搭积木一样编写扫描工具

我们创建一个 `service_scan.yak` 内容如下

```go
// 极简获取参数，--target xxxx  --port 80
scanTarget, scanPorts = cli.String("target"), cli.String("port")

// 默认批量进行服务扫描
results, err = servicescan.Scan(scanTarget, scanPorts)
die(err)

// 取出扫描结果（异步扫描结果）
for result = range results {
    println(result.String())
}
```

于是我们执行 `yak service_scan.yak --target 192.168.1.1/24 --port 22,80` 之后，将会看到如下输出

```bash
tcp://192.168.1.32:22	 open	openssh[6.6.1]
tcp://192.168.1.21:22	 open	openssh[7.4]
tcp://192.168.1.40:22	 open	openssh[6.6.1]
tcp://192.168.1.43:22	 open	openssh[5.3]
tcp://192.168.1.44:22	 open	openssh[5.3]
tcp://192.168.1.46:22	 open	openssh[5.3]
tcp://192.168.1.60:22	 open	openssh[5.3]
tcp://192.168.1.48:22	 open	openssh[5.3]
tcp://192.168.1.66:22	 open	linux_kernel[*]/openssh[7.2p2]/ubuntu_linux[*]
tcp://192.168.1.80:22	 open	openssh[5.3]
...
...
...
...
...
tcp://192.168.1.83:80	 open	apache_tomcat[1.1]/coyote[1.1]/coyote_http_connector[1.1]/java[*]/jquery[*]/jquery[1.3.2]
tcp://192.168.1.99:80	 open
tcp://192.168.1.122:80	 open	nginx[*]
tcp://192.168.1.125:80	 open	linux_kernel[*]/nginx[1.10.3]/ubuntu[*]/ubuntu_linux[*]
tcp://192.168.1.126:80	 open	nginx[*]/php[5.4.45]
```

## 安装教程

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs
  defaultValue="darwin"
  values={[
    {label: 'MacOs(Intel/M1) 安装', value: 'darwin'},
    {label: 'Linux 安装', value: 'linux'},
    {label: 'Windows 安装', value: 'windows'},
  ]}>
  <TabItem value="darwin">

在 MacOS 下，使用 Yak 是非常简单的事情，我们甚至不需要安装任何依赖，直接执行：

```go
bash <(curl -s http://oss.yaklang.io/install-latest-yak.sh)
```

即可安装完成：

```bash
Install for Darwin(MacOS) intel/m1 fit
-------------------------------------
Downloading for yak_darwin_amd64
--2021-07-20 14:41:42--  https://yaklang.oss-cn-beijing.aliyuncs.com/yak/latest/yak_darwin_amd64
...
...
...
yak_darwin_amd64                          100%[====================================================================================>]  43.64M  1.63MB/s  用时 28s

2021-07-20 14:42:11 (1.54 MB/s) - 已保存 “yak_darwin_amd64” [45756184/45756184])

Chmod +x yak_darwin_amd64
Start install yak_darwin_amd64 (ADD Yak to ENV PATH)
Password:
Sorry, try again.
Password:
[INFO] 2021-07-20 14:42:22 +0800 [default:log.go:178] current yak binary: /Users/v1ll4n/Projects/yaklang/yak_darwin_amd64
[INFO] 2021-07-20 14:42:22 +0800 [default:log.go:178] installed yak... now you can exec `yak version` to check...
Yak Language Build Info:
    Version: v0.9.7a2-ff28a9389f7bd7538de20468b4a096258dfe3ce6
    GoVersion: go version go1.15.13 darwin/amd64
    GitHash: ff28a9389f7bd7538de20468b4a096258dfe3ce6
    BuildTime: Mon Jul 19 17:45:48 2021 +0800

Cleaning cache file...
Finished
```

  </TabItem>

  <TabItem value="linux">


```go
bash <(curl -s http://oss.yaklang.io/install-latest-yak.sh)
```

  </TabItem>
  <TabItem value="windows">



  </TabItem>
</Tabs>


## 安装失败？常见安装问题 Q&A：

#### Yak 安装的原理是啥？

1. 安装脚本托管在阿里云OSS上，大家可以通过下载 `http://oss.yaklang.io/install-latest-yak.sh` 这个脚本查看具体的安装方法。
1. 安装脚本会下载 yak 主程序到本地
1. yak 程序会把自己的二进制复制到可执行的目录中(例如：`/usr/local/bin` 或者 `C:\Windows\System32\`)，然后执行 `yak version` 来验证自己的安装过程。

#### 如何删除 Yak ？

找到 Yak 的安装目录，删除即可。

#### 安装失败应该如何操作？

1. 手动下载最新版本的 Yak 发行程序（选择合适自己的）。
1. 在本机的管理员权限/root权限下，执行 `yak_{{GOOS}}_amd64 install` 命令。
1. 执行成功之后，查看 `yak version` 命令是否能成功执行。
